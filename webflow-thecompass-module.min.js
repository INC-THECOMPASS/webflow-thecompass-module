const tc={},Observable=e=>{let t=e,r=[],n=(e,t)=>r.push({subscriber:e,bind:t}),c=e=>(r=r.filter(t=>t.subscriber!==e)).length,l=e=>{t="function"==typeof e?e(t):e,r&&r.forEach(e=>e.subscriber(t,{innerText:e.bind}))};return Object.freeze({get value(){return t},set value(val){l(val)},update:l,subscribe:n,unsubscribe:c})};function dfs(e){if(Array.from(e.children).length>0)Array.from(e.children).forEach(e=>{dfs(e)});else{let t=e.innerText.match(/\{\{ [\w]+ \}\}/g);t&&t.forEach(t=>{let r=t.replaceAll("{","").replaceAll("}","").replaceAll(" ","");void 0===tc[r]&&(tc[r]=Observable(0)),tc[r].subscribe((n,c)=>{-1===e.innerText.indexOf(t)?e.innerText=c.innerText.replaceAll(t,tc[r].value):e.innerText=e.innerText.replaceAll(t,tc[r].value)},e.innerText)})}}window.addEventListener("load",()=>{dfs(document),initTC(),document.querySelectorAll("[aria-tc-onchange]").forEach(dom=>{dom.addEventListener("change",eval(dom.getAttribute("aria-tc-onchange")))}),document.querySelectorAll("[aria-tc-onclick]").forEach(dom=>{dom.addEventListener("click",eval(dom.getAttribute("aria-tc-onclick")))}),document.querySelectorAll("[aria-tc-onkeyup]").forEach(dom=>{dom.addEventListener("keyup",eval(dom.getAttribute("aria-tc-onkeyup")))})}),window.addEventListener("unload",()=>{Object.values(tc).forEach(e=>e.clear())});